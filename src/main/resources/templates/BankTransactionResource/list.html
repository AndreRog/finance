{#include base}
{#title}{/title}
{#body}
<header class="header">
    <h1>FinanceApp</h1>
</header>
<section class="main">

<!--    <form action="/finance/upload" method="POST" hx-target="#todo-list" hx-swap="beforeend">-->
<!--        <input class="file" name="title" placeholder="What needs to be done?" autofocus>-->
<!--    </form>-->
<!--    <form id='form' action="/finance/upload" method="POST" hx-encoding='multipart/form-data'>-->
<!--        <input type='file' name='file'>-->
<!--        <button>-->
<!--            Upload-->
<!--        </button>-->
<!--        <progress id='progress' value='0' max='100'></progress>-->
<!--        <div>-->
<!--            <select id="bankType" name="bankType" hx-get="/bank/types" hx-target="#bankTypes" hx-indicator=".htmx-indicator">-->
<!--                ...-->
<!--            </select>-->
<!--            <img class="htmx-indicator" width="20" src="/img/bars.svg">-->
<!--        </div>-->
<!--    </form>-->
<!--    <script>-->
<!--        htmx.on('#form', 'htmx:xhr:progress', function(evt) {-->
<!--          htmx.find('#progress').setAttribute('value', evt.detail.loaded/evt.detail.total * 100)-->
<!--        });-->
<!--    </script>-->


    <form hx-encoding='multipart/form-data' hx-post='/finance/upload'>
        <div>
            <label for="file">Choose a file:</label>
            <input type="file" id="file" name="file" accept=".txt, .pdf, .doc, .docx, .xls" required>
        </div>

        <div>
            <label for="type">Select a type:</label>
            <select id="type" name="type" required>
                {#for bank in banks}
                    <option value="{bank}">{bank}</option>
                {/for}
            </select>
        </div>




        <button type="submit">Upload</button>

    </form>

    <!-- Display the uploaded file details -->
    <div id="output"></div>
    <div>
        <table>
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Amount</th>
                    <th>Description</th>
                    <th>Balance</th>
                </tr>
            </thead>
            <tbody>
                {#for transaction in financialRecords}
                <tr>
                    <td>{transaction.date}</td>
                    <td>{transaction.value}</td>
                    <td>{transaction.description}</td>
                    <td>{transaction.finalBalance}</td>
                </tr>
                {/for}
            </tbody>
            <tfoot>
                <button></button>
                <button></button>
            </tfoot>
        </table>
    </div>

</section>
<footer>
</footer>
{/body}
{/include}